<!DOCTYPE html>
<html lang="es" ng-app="app">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">
    <title>MSI Datos Abiertos Test</title>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
    <!-- Bootstrap theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">
    <!-- Custom styles for this template -->
    <link href="css/styles.css" rel="stylesheet">
</head>

<body role="document" ng-controller="MainController as main">
    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">MSI Datos Abiertos Test</a>
            </div>
        </div>
    </nav>
    <div class="container-fluid">

        {% raw %}

        <form class="form" ng-submit="main.onSubmit()">
            <div class="form-group">
                <label for="urlbase">URL Base</label>
                <input class="form-control" id="urlbase" type="url" ng-model="main.params.urlbase" required>
            </div>
            <div class="form-group">
                <label for="key">Auth Key</label> <em>Página para desarrolladores: <a href="http://datosabiertos.msi.gob.pe/developers">http://datosabiertos.msi.gob.pe/developers</a></em>
                <input class="form-control" id="key" type="text" ng-model="main.params.key" required>
            </div>        
            <div class="form-group">
                <label for="guid">GUID</label> <em>Catálogo de dashboards: <a href="http://datosabiertos.msi.gob.pe/datastreams/111049/catalogo-de-datos-abiertos/">http://datosabiertos.msi.gob.pe/datastreams/111049/catalogo-de-datos-abiertos/</a></em>
                <input class="form-control" id="guid" type="text" ng-model="main.params.guid" required>
            </div>
            <div class="form-group">
                <label for="limit">Limit</label>
                <input class="form-control" id="limit" type="number" ng-model="main.params.limit">
            </div> 
            <div class="form-group">
                <label for="limit">URL</label>
                <p>
                    <a href="{{ main.params.urlbase + main.params.guid + '?auth_key=' + main.params.key + '&limit=' + main.params.limit }}" target="_blank">{{ main.params.urlbase + main.params.guid + '?auth_key=' + main.params.key + '&limit=' + main.params.limit }}</a>
                </p>
            </div> 

            <button class="btn btn-primary">Test</button>
        </form>

        <div class="result" ng-show="main.title">        
            <h1>{{ main.title }}</h1>

            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th ng-repeat="label in main.header track by $index">{{ label }}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="row in main.rows track by $index">
                        <td ng-repeat="value in row track by $index">{{ value }}</td>
                    </tr>
                </tbody>
            </table>

        </div>

        {% endraw %}


    </div>
    <!-- /container -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.js"></script>
    <script src="js/app.js"></script>
</body>

</html>